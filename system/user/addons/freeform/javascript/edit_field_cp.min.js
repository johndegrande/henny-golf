(function(global,$){"use strict";var Freeform=global.Freeform=global.Freeform||{};Freeform.initFieldEvents=function(){var $context=$("#edit_field form:first");var $fieldTypeDescs=$(".field_type_desc",$context);var $fieldDesc=$('[name="field_description"]',$context);var $fieldLabel=$('[name="field_label"]',$context);var $fieldName=$('[name="field_name"]',$context);var $optionsInsert=$("#options_insert",$context);var $fieldSettings=$("#field_settings",$context);var $fieldSettingsInner=$("#field_settings_inner",$context);var $formList=$("#form_list",$context);var $chosenFormList=$("#chosen_form_list",$context);var $formIdsRow=$("#form_ids_row",$context);var $formIds=$("[name=form_ids]",$context);var $fieldtypeSelect=$('select[name="field_type"]',$context);var $submitBlock=$("fieldset.form-ctrls",$context);Freeform.autoGenerateShortname($fieldLabel,$fieldName);var fieldTypeSets={};$fieldtypeSelect.find("option").each(function(e){var name=$(this).val();var $h2=$('h2[data-section-group="'+name+'"]',$context);if($h2.length){fieldTypeSets[name]=$h2;var $current=$h2;$current=$current.next();while($current.length&&$current.is("fieldset.col-group")){fieldTypeSets[name]=fieldTypeSets[name].add($current);$current=$current.next()}}});$fieldtypeSelect.change(function(){var type=$(this).val();var $settings=$('.field_settings[data-field="'+type+'"]',$context);$.each(fieldTypeSets,function(i,item){item.remove()});if(typeof fieldTypeSets[type]!=="undefined"){$submitBlock.before(fieldTypeSets[type])}$('[type="radio"][checked]',$context).click();$("body").trigger("fieldTypeChanged",[type])}).change();var setFormIds=function(){var formIds=[];$(".field_tag",$chosenFormList).each(function(){formIds.push($(this).data("form-id"))});$formIds.val(formIds.join("|"))};$formList.on("click",".field_tag",function(){$chosenFormList.append($(this).remove()).children().sortElements(function(a,b){return $(a).text().toLowerCase()>$(b).text().toLowerCase()?1:-1});setFormIds()});$chosenFormList.on("click",".field_tag",function(){$formList.append($(this).remove()).children().sortElements(function(a,b){return $(a).text().toLowerCase()>$(b).text().toLowerCase()?1:-1});setFormIds()});var currentForms=$.trim($formIds.val())!==""?$formIds.val().split("|"):[];if(currentForms.length>0){$.each(currentForms,function(i,item){$('.field_tag[data-form-id="'+item+'"]',$formList).click()})}};$(function(){if($("#edit_field form:first").length>0){Freeform.initFieldEvents()}})})(window,jQuery);